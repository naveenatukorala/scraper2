(function(){var f;addEventListener("contextmenu",function(d){f=d.srcElement});chrome.extension.onRequest.addListener(function(d,c,h){c=d.command;var a=d.payload,e=$.extend({},a);try{if("scraperScrape"===c)e.result=bit155.scraper.scrape(e);else if("scraperSelectionOptions"===c)(function(){var b,a,d,c;f?(c=window.getSelection(),d=window.document,c.isCollapsed?b=f:(b=c.focusNode,a=c.anchorNode),f=null,e=$.extend(e,bit155.scraper.optionsForSelection(b,a,d))):e.error="Frames are not supported at the moment. Please open the frame in a new tab or window and try scraping again."})();
else if("scraperHighlight"===c)(function(){var b;a.selector?b=bit155.scraper.select(document,a.selector,a.language):a.xpath?b=bit155.scraper.select(document,a.xpath,"xpath"):a.jquery&&(b=$(a.jquery));b&&(window.scrollTo(b.offset().left,b.offset().top),b.filter(":visible").effect("highlight",{},"slow"))})();else if("scraperPing"!==c)throw Error("Unsupported request: "+JSON.stringify(d));}catch(g){console.error(g),e.error=g}h(e)})})();
